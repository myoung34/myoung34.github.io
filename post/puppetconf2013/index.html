
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>What I Learned From PuppetConf 2013 - Marcus Young</title>
  <meta name="author" content="Marcus Young">

  
  <meta name="description" content="Wow. Work has been crazy. Enough for me to have no activity here. Time to change that, but putting in a blog post that might resemble a cracked &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://marcyoung.us/post/puppetconf2013">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Marcus Young" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29328388-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText"></div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Marcus Young</a></h1>
  
    <h2>Software. Microcontrollers. Beer.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:marcyoung.us" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://github.com/myoung34">Github</a></li>
  <li><a href="http://plus.google.com/106595646200297464671">Google+</a></li>
  <li><a href="http://www.linkedin.com/pub/marcus-young/2a/69b/a63">LinkedIn</a></li>
  <li><a href="https://www.dropbox.com/s/3dnv34v27xrnawb/Resume-Marcus.Young%20-%20Public.doc">Resume</a></li>
  <li><a href="http://vizualize.me/4PXMEv1a2i#.Ub1B1JyIK64">Vizualize.me Resume</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">What I Learned From PuppetConf 2013</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2013-10-30T00:00:00+00:00" pubdate data-updated="true"></time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Wow. Work has been crazy. Enough for me to have no activity here. Time to change that, but putting in a blog post that might resemble a cracked article.<!--more--></p>

<p>I recently attended Puppetconf 2013 in San Francisco, and it was amazing (except the food). I love that city now. Regardless, I went into this conference having written a few very incorrect modules that did work, although I&rsquo;m unsure how in hindsight. I decided to finally put in a post some of the takeaways I gathered. Ironically, almost all of my best information came from sitting down on developer day, which was a topic themed sit-down to talk to like minded people and puppet developers. The idea being to get them to look at your code, help you out, or just answer questions. This. Was. Awesome. Much thanks to Ashley Penney and Rob Reynolds for dealing with me.</p>

<h1>Things To Take Away From My Conference Experience</h1>

<ol>
<li>Module best practices

<ul>
<li>The <a href="http://docs.puppetlabs.com/guides/style_guide.html">style guide</a> is your bff.</li>
<li>Tests, tests tests.

<ol>
<li><a href="http://rspec-puppet.com/tutorial/">rspec-puppet</a> lets you write rspec tests for your manifests.</li>
<li><a href="https://github.com/puppetlabs/rspec-system-puppet">rspec-system-puppet</a> lets you write system tests for a full stack (catalog)</li>
</ol>
</li>
<li><a href="http://puppet-lint.com/">Puppet-lint</a>. Use it. Love it. Always run with <em>&ndash;no-80chars-check</em> flag (1990 called, it wants its&#8217; 1024x768 resolution back).</li>
</ul>
</li>
<li>Things you should know if you&rsquo;re maintaining modules

<ul>
<li>Use a module deployment manager.

<ol>
<li><a href="https://github.com/adrienthebo/r10k">r10k</a>. I now use this everywhere. You can easily set it up to deploy your modules from <em>master</em> to <em>/etc/puppet/environments/production</em> and <em>dev</em> to <em>/etc/puppet/environments/development</em> , which is so awesome. This makes staggering environments a snap. I plan on writing a quick guide to this soon.</li>
<li><a href="https://github.com/rodjek/librarian-puppet">Puppet libarian</a> is another I&rsquo;ve not yet used, but I&rsquo;ve heard good and bad.</li>
</ol>
</li>
<li><a href="http://docs.puppetlabs.com/hiera/1/">Hiera</a> is fantastic. Separate your data from your modules.</li>
<li>Use facts for advanced modules. Your modules should not try to determine how to run, but simply follow flow. For example, assume you have a module that should operate differently based on what&rsquo;s responding on an HTTP port. Your module should be as simple as possible, so it shouldn&rsquo;t try to determine this, but use it. You should write and package a <em>fact</em> that hits the server, and returns <em>my_http_server => &lsquo;nginx&rsquo;</em>. Now your module can just do something as simple as a switch on this <em>$::my_http_server</em> variable. Done.</li>
<li>I love Craig Dunn&rsquo;s <a href="http://www.craigdunn.org/2012/05/239/">roles and profiles</a> architecture. It&rsquo;s so simple and it works quite well. Having a singular <em>role</em> that maps to multiple <em>profiles</em> provides a flexible and easily maintained set of modules.</li>
<li>Puppet&rsquo;s <a href="https://github.com/puppetlabs/puppetlabs-stdlib">stdlib</a> is great. I&rsquo;m a huge fan of not reinventing the wheel, so having <em>str2bool()</em> available makes me happy. Along with a ton of other well written functions you need.</li>
</ul>
</li>
<li>Buzzwords (things I can&rsquo;t believe I&rsquo;ve never heard of/used)

<ul>
<li><a href="http://www.pulpproject.org/">Pulp</a> is quite cool. For my modules, everything is RHEL/CentOS based, so publishing RPMs has become my &lsquo;thang&rsquo;. Pulp <em>seems</em> to be an attempt to get spacewalk-like functionality into the hands of people who don&rsquo;t want the overhead of the database, GUI, and a bunch of the bulk. Me? I just use it as a Yum repository. My jenkins builds RPM&rsquo;s and publishes them to a Pulp server, so it becomes available to anything that uses it as a repo.</li>
<li>I&rsquo;ve heard of and scoffed vim package managers. Until <a href="https://github.com/Shougo/neobundle.vim">neobundle</a>. I&rsquo;ve been setting up so many servers lately, having a dotfiles repository with a .vimrc with all my Vim necessities has lowered my blood pressure.</li>
<li><a href="https://wiki.openstack.org/wiki/Packstack">Packstack</a>. This could be a rant in and of itself. I really want to like this. I really do. What is it? It&rsquo;s a fully automated puppet setup of Openstack. What?! IaaS at your fingertips? Too good to be true you say? Yes. Great idea, but it needs a lot of work. I didn&rsquo;t sleep for 2 days trying to set this up. And gave up.

<ul>
<li>tl;dr <em>What is it</em>: Puppet based installer for a single instance version of Openstack. Openstack really requires 3 nodes (compute, data, network), but this gives you a &lsquo;trial version&rsquo;, meaning all 3 nodes on one instance with some limitations on Ram, storage, etc that you can&rsquo;t change (because why on earth would you actually want IaaS on a single instance).</li>
<li>tl;dr <em>My issues</em>: Failed on Fedora 19. And Fedora 20, although both are officially supported. Discovered bugs on each install such as the GUI sending only 500 ISE&rsquo;s, missing the x86_64 Qemu 1.4 emulator, and removing <em>/var/lock/subsys</em> in an install.</li>
</ul>
</li>
<li><a href="http://openstack.redhat.com/Main_Page">RDO</a> is <em>Red Hat</em>&rsquo;s <em>D</em>eployment of <em>O</em>penstack - see what I did there? This is what I used to fail miserably at installing packstack.</li>
<li><a href="http://theforeman.org">Foreman</a> is a great and simple way to keep track of your hosts. Works flawlessly with your set up, whether you use an ENC, Hiera, both, neither. I use it and swear by it. A coworker loves the <a href="http://puppetlabs.com/dashboard">puppet dashboard</a> although it seems to have the same functionality. I don&rsquo;t use either one for its provisioning, solely its puppet management.</li>
<li><a href="https://www.openshift.com/products/origin">openshift</a> seems to be red hats solution to heroku. PaaS still eludes me, but my understanding is it&rsquo;s an answer to developing without deploying. Push the code to their system with some metadata on how to execute and be done with it.</li>
</ul>
</li>
</ol>


<h1>Random Things I Learned About Puppet Pre/Post Conference</h1>

<ol>
<li>Puppet is the greatest thing I&rsquo;ve found for linux system configuration and package maintenance&hellip;.Windows? Not so much. Puppet is obviously intended for the linux community, seeing as the master HAS to be linux. This is fine if you&rsquo;re just wanting to set up and maintain a windows box. Where am I going with this? <em>Continuous deployment</em>. If you&rsquo;re looking to deploy code, continuously or not, on a Windows system, if it&rsquo;s not msi or exe, Puppet isn&rsquo;t your thing. I&rsquo;ve found <a href="http://octopusdeploy.com/">octopus deploy</a> and it works great from a CI/NuGet deployment standpoint.</li>
<li><a href="http://lmgtfy.com/?q=puppet+without+root">Puppet without root</a> is a pipe dream. It&rsquo;s a hot topic, but the biggest failure? Linux packages will most likely require root for a very long time. Oops.</li>
<li>Write facts, use hiera, and stop making complicated modules.</li>
<li>I love <a href="http://vagrantup.com/">vagrant</a>. So much.</li>
</ol>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">myoung</span></span>

      








  


<time datetime="2013-10-30T00:00:00+00:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/deployment/'>deployment</a>, <a class='category' href='/blog/categories/linux/'>linux</a>, <a class='category' href='/blog/categories/puppet/'>puppet</a>, <a class='category' href='/blog/categories/uncategorized/'>uncategorized</a>, <a class='category' href='/blog/categories/windows/'>windows</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/post/automatically-deploy-git-code-windows-puppet/" title="Previous Post: Automatically deploy GIT code to Windows with Puppet">&laquo; Automatically deploy GIT code to Windows with Puppet</a>
      
      
        <a class="basic-alignment right articlenav" href="/post/puppet-and-marklogic" title="Next Post: Puppet and MarkLogic">Puppet and MarkLogic &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/post/planck">Homemade Planck</a>
      </li>
    
      <li class="post">
        <a href="/post/dockerized-elk-part-4">AWS ECS Hot/Warm ELK + Curator Part 4 - Curator</a>
      </li>
    
      <li class="post">
        <a href="/post/dockerized-elk-part-3">AWS ECS Hot/Warm ELK + Curator Part 3 - Kibana</a>
      </li>
    
      <li class="post">
        <a href="/post/dockerized-elk-part-2">AWS ECS Hot/Warm ELK + Curator Part 2 - Logstash</a>
      </li>
    
      <li class="post">
        <a href="/post/dockerized-elk-part-1">AWS ECS Hot/Warm ELK + Curator Part 1 - Elasticsearch</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'myoung34',
            count: 0,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/106595646200297464671?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Marcus Young -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'marcyoung';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://marcyoung.us/post/puppetconf2013';
        var disqus_url = 'http://marcyoung.us/post/puppetconf2013';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>







</body>
</html>
